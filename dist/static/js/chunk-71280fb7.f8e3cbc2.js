(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71280fb7"],{4565:function(e,t,r){"use strict";var a=r("b195"),o=r.n(a);o.a},6218:function(e,t,r){"use strict";var a=r("cf17"),o=r.n(a);o.a},b195:function(e,t,r){},cf17:function(e,t,r){},d5c2:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[e._m(0),e._v(" "),r("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,"label-width":"120px"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("el-form-item",{staticClass:"tips",attrs:{label:"用户名"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码"}},[r("el-input",{key:e.passwordType,attrs:{type:e.passwordType},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"再次输入密码"}},[r("el-input",{key:e.passwordType,attrs:{type:e.passwordType},model:{value:e.password_repeat,callback:function(t){e.password_repeat=t},expression:"password_repeat"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"农场/公司名称"}},[r("el-input",{model:{value:e.form.farmname,callback:function(t){e.$set(e.form,"farmname",t)},expression:"form.farmname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户姓名"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码"}},[r("el-input",{model:{value:e.form.phone_number,callback:function(t){e.$set(e.form,"phone_number",t)},expression:"form.phone_number"}})],1),e._v(" "),r("div",{staticClass:"inline_block",attrs:{id:"test"}},[r("el-button",{staticStyle:{width:"50%","margin-bottom":"50p",display:"block",margin:"0 auto"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),r("el-button",{staticStyle:{width:"50%","margin-bottom":"30px",right:"0px",display:"block",margin:"0 auto"},attrs:{type:"primary"},on:{click:e.goTo}},[e._v("返回登录")])],1)],1)],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("用户注册")])])}],s=r("61f7"),n=r("bc3a"),i=r.n(n),l={name:"register",data:function(){var e=function(e,t,r){Object(s["b"])(t)?r():r(new Error("Please enter the correct user name"))},t=function(e,t,r){t.length<6?r(new Error("The password can not be less than 6 digits")):r()};return{form:{username:"",password:"123456",phone_number:"",farmname:"",name:""},password_repeat:"123456",loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},onSubmit:function(){var e="https://qingjiao.shop:8000",t=e;if(this.isValidate(this.form)){console.log("validated",this.form);var r=new FormData;for(var a in this.form)r.append(a,this.form[a]);console.log(r),i.a.post(t+"/api/register/",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){alert(JSON.stringify(e.data)),"注册成功"==JSON.stringify(e.data)&&this.goTo()})).catch((function(e){console.log(e)}))}},isValidate:function(e){return e.username&&e.password.length>=6?e.password==this.password_repeat||(alert("两次密码不一致"),!1):(console.log("invalid"),!1)},goTo:function(){this.$router.push({name:"login"})}}},m=l,c=(r("4565"),r("6218"),r("2877")),p=Object(c["a"])(m,a,o,!1,null,"14db6952",null);t["default"]=p.exports}}]);