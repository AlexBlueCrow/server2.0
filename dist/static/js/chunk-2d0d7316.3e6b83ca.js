(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7316"],{7689:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-form",{ref:"form",staticStyle:{width:"80%"},attrs:{model:e.form,"label-width":"120px"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[o("el-form-item",{attrs:{label:"农场名称"}},[o("el-input",{attrs:{disabled:e.disable},model:{value:e.form.farmname,callback:function(t){e.$set(e.form,"farmname",t)},expression:"form.farmname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"视频名称"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品视频"}},[o("input",{ref:"videoFile",staticClass:"add-file-right-input",attrs:{type:"file",multiple:"multiple",accept:".mp4"},on:{change:function(t){return e.getFileV(t)}}})]),e._v(" "),o("el-form-item",{attrs:{label:"视频封面"}},[o("input",{ref:"coverFile",staticClass:"add-file-right-input",attrs:{type:"file",multiple:"multiple",accept:".png,.jpeg,.jpg"},on:{change:function(t){return e.getCover(t)}}})]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传视频")])],1)],1)},i=[],n=(o("28a5"),o("bc3a"),o("4360")),r=o("bc3a").default;r.defaults.xsrfCookieName="csrftoken",r.defaults.xsrfHeaderName="X-CSRFTOKEN";var l={data:function(){return{form:{desc:"",farmname:"",name:""},video:"",cover:"",disable:!0}},created:function(){this.form.farmname=n["a"].getters.farmname},methods:{getFileV:function(e){this.video=e.target.files[0]},getCover:function(e){this.cover=e.target.files[0]},getCookie:function(e){var t="; "+document.cookie,o=t.split("; "+e+"=");if(2===o.length)return o.pop().split(";").shift()},onSubmit:function(){this.$message("submit!"),console.log("onsubmit");var e="https://qingjiao.shop:8000",t=e,o=new FormData;for(var a in this.form)o.append(a,this.form[a]);""!=this.video?o.append("video",this.video):alert("请上传视频文件"),""!=this.cover&&o.append("cover",this.cover),console.log("----222",o),r.post(t+"/api/video/",o,{headers:{"X-CSRFToken":this.getCookie("csrftoken"),"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){console.log(e),alert(e.data.msg)})).catch((function(e){console.log(e)}))}}},s=l,c=o("2877"),f=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=f.exports}}]);